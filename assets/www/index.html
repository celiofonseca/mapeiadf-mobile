<!DOCTYPE HTML>

<html>
	<head>
		<title>PhoneGap</title>
		<link rel="stylesheet" type="text/css" href="style_main.css">


		<script type="text/javascript" charset="utf-8" src="js/jquery-1.10.2.min.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/jquery.mobile-1.3.2.min.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/cordova.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/gpsDetectionPlugin.js"></script>
		
		<script type="text/javascript" charset="utf-8">
			// Wait for Cordova to load
			document.addEventListener("deviceready", onDeviceReady, false);

			// Cordova is ready
			function onDeviceReady() {
				gpsDetect = cordova.require('cordova/plugin/gpsDetectionPlugin');
				
				gpsDetect.checkGPS(onGPSSuccess, onGPSError);
	
				var options = {enableHighAccuracy: true, maximumAge: 15000, timeout: 300000};
				navigator.geolocation.watchPosition(onSuccess, onError, options); 
			}
			
			function onGPSSuccess(on) {
	            if (!on)
	            	alert("É preciso ligar seu GPS :)");
	        }

	        function onGPSError(e) {
	            alert("Error : "+e);
	        }
 
			function onSuccess(position) {
				var element = $('#geolocation');
				element.html('Latitude: '           + position.coords.latitude              + '<br />' +
                		            'Longitude: '          + position.coords.longitude             + '<br />' +
                        		    'Altitude: '           + position.coords.altitude              + '<br />' +
                            		'Accuracy: '           + position.coords.accuracy              + '<br />' +
                            		'Altitude Accuracy: '  + position.coords.altitudeAccuracy      + '<br />' +
                            		'Heading: '            + position.coords.heading               + '<br />' +
                            		'Speed: '              + position.coords.speed                 + '<br />' +
                            		'Timestamp: '          + position.timestamp          		   + '<br />');
			}

			// onError Callback receives a PositionError object
			function onError(error) {
				alert('code: '    + error.code    + '\n' +
					  'message: ' + error.message + '\n');
			} 
		</script>
	</head>
	
	<body>
		<div class="navbar navbar-fixed-top">
	      <div class="navbar-inner">
	        <div class="container-fluid">
	          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	          </a>
	          <a class="brand" href="#">Mapeiadf</a>
	          <div class="container-fluid nav-collapse">
	            <ul class="nav">
	              <li><%= link_to "Link1", "/path1"  %></li>
	              <li><%= link_to "Link2", "/path2"  %></li>
	              <li><%= link_to "Link3", "/path3"  %></li>
	            </ul>
	          </div><!--/.nav-collapse -->
	        </div>
	      </div>
	    </div>

	    <div class="container-fluid">
	      <div class="row-fluid">
	        <div class="span12">
	        	
	        	<ol>
					<li>Aperte o botão para marcar os pontos de ônibus</li>
					<li>Indique as linhas de ônibus marcadas por você</li>
				</ol>
				 
				<button type="button" class="btn btn-block btn-large btn-primary">Marcar Ponto</button>

				<ol start="3">
					<li>Após selicionar um ponto escolha as linhas que passam por ele</li>
					<li>Depois de marcar alguns pontos toque em Sincronizar Dados</li>
					<li>Quantidade de pontos marcados</li>
				</ol>

				<button type="button" class="btn btn-block btn-large">Sincronizar Dados</button>
	        </div>
	      </div><!--/row-->

	      <footer>
	        <p>&copy; Mapeia DF | Company  2013</p>
	      </footer>

	    </div> <!-- /container -->
	</body>
</html>